"use strict";function _typeof(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),getDate=function(e){return new Date(e).getDate()},Cache=function(){function e(t){_classCallCheck(this,e),this.limit=t.overdue?null:t.limit||3600,this.overdue=t.overdue||1,this.prefix=(t.prefix||"cache")+"_"}return _createClass(e,[{key:"deal",value:function(e,t){var a=this.limit,r=this.overdue,o=this.prefix,n=localStorage.getItem(o+e),i=Date.now();n?(n=JSON.parse(n),a?i-n.createAt>1e3*a?t(!0,n.data):t(!1,n.data):r&&(getDate(Date.now())-getDate(n.createAt)>r-1?t(!0,n.data):t(!1,n.data))):t(!0,null)}},{key:"save",value:function(e,t){var a=this.prefix,r={createAt:Date.now(),data:t};localStorage.setItem(a+e,JSON.stringify(r))}},{key:"remove",value:function(e){var t=this.prefix;if(e)localStorage.removeItem(t+e);else for(var a in localStorage)0===a.indexOf(t)&&localStorage.removeItem(a)}}]),e}();"object"===("undefined"==typeof module?"undefined":_typeof(module))&&(module.exports=Cache);